<!DOCTYPE html>
<html lang="en" id="top">

<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Bodingles | Colt Steele</title>

   <!-- Link Favicon -->
   <link rel="icon" href="/images/logos/favicon.ico" type="image/x-icon">

   <!-- link stylesheet -->
   <link rel="stylesheet" href="/css/cssReset.css">
   <link rel="stylesheet" href="/css/root.css">
</head>

<body>
   <!-- Header -->
   <header id="app-header"></header>

   <!-- Main Body -->
   <section id="main" class="content">
      <!-- Title -->
      <section>
         <h2><i>The Web Developer Bootcamp 2024</i></h2>
         <p>Colt Steele</p>
         <p><a href="../node.html">Back to Node Index Page</a></p>
         <hr style="width: 40%;">
         <p>&nbsp;</p>
         <h3>Node Modules</h3>
      </section>

      <section id="textWindow4" class="just">
         <!-- Defining Node Modules -->
         <article>
            <h6>Packages</h6>
            <p><span class="firstWord">N</span>ode Js works off of the concept that you can create and share Js files, that can be grouped into "packages". Theses "packages" work similar to Python "modules" in that you import the "modules" you wish to use.  More information about Node modules and packages can be
               <a href="https://docs.npmjs.com/packages-and-modules" target="_blank" crossorigin="anonymous" referrerpolicy="no-referrer">found here</a>.</p>
            <p>You're not limited to packages that others have created, you can create them on your own. In order to create a package you need to be able to import and export files and folders. We can demonstrate the concept by creating a package that we can "share" with another Js file. We're going to create a Js file called [<b>math.js</b>]. Inside this file, all we are going to have is two functions, and one variable assignment.</p>
            <p>Here is the file contents:
               <ul class="sectHighlight">
                  <li>JavaScript</li>
                  <li class="commentStyle"><b>math.js</b></li>
                  <li>
                     <ul>
                        <li>const <span class="colorGreen">add</span> = ( x, y ) => x + y;</li>
                        <li>const <span class="colorGreen">square</span> = x => x * x;</li>
                        <li>const <span class="colorGreen">PI</span> = 3.14159;</li>
                     </ul>
                  </li>
               </ul>
            </p>
            <p>
               So we've created a Js <b>package</b> that we can import into our other Js files. For that, we're going to need another Js file to work with. We'll call it [<b>app.js</b>]. Now in our new [<b>app.js</b>], we need to <i>"import"</i> our [<b>math.js</b>], and to do that, we use <b>require</b> like so:
               <ul class="sectHighlight">
                  <li>JavaScript</li>
                  <li class="commentStyle"><b>app.js</b></li>
                  <li>
                     <ul>
                        <li>const <span class="colorGreen">mathImp</span> = <b>require</b> ('./math');</li>
                        <li>console.log(<span class="colorGreen">mathImp</span>);</li>
                     </ul>
                  </li>
               </ul>
            </p>
            <p>
               Now if we run this in our "node" console, what will we get?
               <ul class="sectHighlight">
                  <li>Node Terminal
                     <ul>
                        <li><b>node</b> app.js</li>
                     </ul>
                  </li>
               </ul>
            Well, we actually get:
               <ul class="sectHighlight">
                  <li>{ }</li>
               </ul>
            an empty object. Now npm packages <i>are</i> in fact objects, so that part is correct, but we didn't get anything else from the package. This is because in the original [<b>math.js</b>] that we are trying to import, you have to <i><b>specifically</b></i> designate, what you want to export (share).</p>
            <p>We do that with <b>module.exports</b>, like so:
               <ul>
                  <li>JavaScript</li>
                  <li class="commentStyle"><b>math.js</b></li>
                  <li>
                     <ul>
                        <li>const <span class="colorGreen">add</span> = ( x, y ) => x + y;</li>
                        <li>const <span class="colorGreen">square</span> = x => x * x;</li>
                        <li>const <span class="colorGreen">PI</span> = 3.14159;</li>
                     </ul>
                  </li>
               </ul>
               <ul class="sectHighlight">
                  <li>
                     <ul>module.exports.add = <span class="colorGreen">add</span>;</ul>
                     <ul>module.exports.square = <span class="colorGreen">square</span>;</ul>
                     <ul>module.exports.PI = <span class="colorGreen">PI</span>;</ul>
                  </li>
               </ul>
            </p>
            <p>And now, if we run our [<b>app.js</b>], we now get:
               <ul class="sectHighlight">
                  <li>{ <b>add</b>: [ Function: <b>add</b> ], <b>square</b>: [ Function: <b>square</b> ], <b>PI</b>: 3.14159 }</li>
               </ul>
               our complete package object with two functions, and one variable.
            </p>
            <p>So now, from within [<b>app.js</b>], we can log out some results from our [<b>math.js</b>], by adding:
               <ul class="sectHighlight">
                  <li>JavaScript</li>
                  <li class="commentStyle"><b>app.js</b></li>
                  <li>
                     <ul>
                        <li class="commentStyle">// <i>assign variables to the [<b>math.js</b>] objects</i></li>
                        <li>const {<span class="colorGreen">add</span>, <span class="colorGreen">square</span>, <span class="colorGreen">PI</span>} = <b>require</b> ('./math')</li>
                        <li class="commentStyle">// <i>log the objects with the provided values</i></li>
                        <li>console.log(<b><span class="colorGreen">add</span>( 2, 2 )</b>);</li>
                        <li>console.log(<b><span class="colorGreen">square</span>(5)</b>);</li>
                        <li>console.log(<b><span class="colorGreen">PI</span></b>);</li>
                     </ul>
                  </li>
               </ul>
            </p>
            <p>and we get:
               <ul class="sectHighlight">
                  <li>4</li>
                  <li>25</li>
                  <li>3.14159</li>
               </ul>
            </p>
         </article>
         <p>&nbsp;</p>

         <!-- Simplifying the Code -->
         <article>
            <h6>Simplifying the Code</h6>
            <p><span class="firstWord">W</span>e can simplify our "exports" code in our [<b>math.js</b>] file by creating an object and exporting the object file like so:
               <ul class="sectHighlight">
                  <li>const <span class="colorGreen">math</span> = {
                     <ul>
                        <li>add: add,</li>
                        <li>square: square,</li>
                        <li>PI: PI</li>
                     </ul>
                  </li>
                  <li>}</li>
                  <li>module.exports = <span class="colorGreen">math</span>;</li>
               </ul>
            </p>
            <p>Another way to simplify the code would be to export each "math" item directly, like so:
               <ul class="sectHighlight">
                  <li>module.exports.<b>add</b> = ( x, y ) => x + y;</li>
                  <li>module.exports.<b>square</b> = x => x * x;</li>
                  <li>module.exports.<b>PI</b> = 3.14159;</li>
               </ul>
            </p>
         </article>
         <p>&nbsp;</p>

         <!-- Summary -->
         <article>
            <h6>In Summary</h6>
            <p><span class="firstWord">S</span>o we can "import packages" into another Js file by using the <b>require</b> keyword, in the file that we are importing into.
               <ul class="sectHighlight">
                  <li>const <span class="colorGreen"><i>variable</i></span> = <b>require</b> ('./file to import');</li>
               </ul>
            </p>
            <p>We can only <i>import</i> items that have been <b>exported</b> in the originating package with the <b>module.exports</b> keyword, eg:
               <ul class="sectHighlight">
                  <li><b>module.exports</b>.<span class="colorGreen">add</span> = ( x, y ) => x + y;</li>
               </ul>
            </p>
         </article>
         <p>&nbsp;</p>

         <!-- Final Code -->
         <article>
            <h6>Final Code</h6>
            <hr>
            <ul class="sectHighlight">
               <li><b>JavaScript</b></li>
               <li class="commentStyle"><span class="colorBlue">math</span>.js</li>
               <li>
                  <ul>
                     <li class="commentStyle">// export our math objects</li>
                     <li>module.exports.<span class="colorGreen">add</span> = ( x, y ) => x + y;</li>
                     <li>module.exports.<span class="colorGreen">square</span> = x => x * x;</li>
                     <li>module.exports.<span class="colorGreen">PI</span> = 3.14159;</li>
                  </ul>
               </li>
            </ul>
            <ul class="sectHighlight">
               <li><b>JavaScript</b></li>
               <li class="commentStyle"><span class="colorBlue">app</span>.js</li>
               <li>
                  <ul>
                     <li class="commentStyle">// import our math objects</li>
                     <li>const {<span class="colorGreen">add</span>, <span class="colorGreen">square</span>, <span class="colorGreen">PI</span>} = <b>require</b> ('./<span class="colorBlue">math</span>');</li>
                     <li class="commentStyle">// log the results</li>
                     <li>console.log(<span class="colorGreen">add</span>(2, 2));</li>
                     <li>console.log(<span class="colorGreen">square</span>(5));</li>
                     <li>console.log(<span class="colorGreen">PI</span>);</li>
                  </ul>
               </li>
            </ul>
            And if you run <i><span class="colorBlue">app</span>.js</i>, it outputs:
            <ul class="sectHighlight">
               <li>4</li>
               <li>25</li>
               <li>3.14159</li>
            </ul>
         </article>
         <p>&nbsp;</p>

         <!-- Including Folders -->
         <article>
            <h6>One Last Note</h6>
            <p>Now, one other note about imports. We can also import an <b>entire folder</b> of files. To do this you need to create your packages in a folder, and the create a file that <b>must be named index.html</b>. Lets demonstrate. We'll create a folder called "<b>pets</b>, and inside the folder, we will create three files with different pet information. So in our file structure, we have:
               <ul class="sectHighlight">
                  <li class="commentStyle">// pets folder</li>
                  <li><b>pets</b></li>
                  <li>
                     <ul>
                        <li class="commentStyle">// pet files</li>
                        <li>chico.js</li>
                        <li>jitters.js</li>
                        <li>jasper.js</li>
                     </ul>
                  </li>
               </ul>
            </p>
            <p>So <b>pets</b> is the "parent" folder and contains the three "pet" Js files. The Js file will contain info about each pet. Here is Chico's file:
               <ul class="sectHighlight">
                  <li>JavaScript</li>
                  <li class="commentStyle">// <span class="colorBlue">chico</span>.js</li>
                  <li><b>module.exports</b> = {
                     <ul>
                        <li>name: 'Chico',</li>
                        <li>color: 'Brown',</li>
                        <li>type: 'Dog'</li>
                     </ul>
                  </li>
                  <li>}</li>
               </ul>
            </p>
            <p>So the [<b>chico,js</b>] file has been set up to export info about the "Chico" pet. The other two pet files will be set up exactly the same, but with their specific pet info. And now, <b>within</b> our "Pets" folder, we need to create an "index" file to control the import of all the other files. So we create the <i>new</i> [<b>index.js</b>] inside of our "Pets" folder:
               <ul class="sectHighlight">
                  <li class="commentStyle">// pets folder</li>
                  <li><b>pets</b></li>
                  <li>
                     <ul>
                        <li class="commentStyle">// pet files</li>
                        <li>chico.js</li>
                        <li>jitters.js</li>
                        <li>jasper.js</li>
                        <li class="commentStyle">// add the index controller file</li>
                        <li><b>index.js</b></li>
                     </ul>
                  </li>
               </ul>
            </p>
            <p>Now, inside our <i>new</i> [<b>index.js</b>] file, we're going to require our three pet files, like so:
               <ul class="sectHighlight">
                  <li>JavaScript</li>
                  <li class="commentStyle">// <span class="colorBlue">index</span>.js</li>
                  <li class="commentStyle">// import the individual pet files</li>
                  <li>const <span class="colorGreen">chico</span> = <i>require</i> (./<b>chico</b>);</li>
                  <li>const <span class="colorGreen">jitters</span> = <i>require</i> (./<b>jitters</b>);</li>
                  <li>const <span class="colorGreen">jasper</span> = <i>require</i> (./<b>jasper</b>);</li>
                  <li class="commentStyle">// combine the three files into an array</li>
                  <li>const <span class="colorGreen">allPets</span> = [ <span class="colorGreen">chico</span>, <span class="colorGreen">jitters</span>, <span class="colorGreen">jasper</span> ];</li>
               </ul>
            </p>
            <p>Now if we run our [<b>index.js</b>], we get:
               <ul class="sectHighlight">
                  <li>[
                     <ul>
                        <li>{ name: 'Chico', color: 'Brown', type: 'Dog' },</li>
                        <li>{ name: 'Jitters', color: 'Brown', type: 'Cat' },</li>
                        <li>{ name: 'Jasper', color: 'Black', type: 'Cat' }</li>
                     </ul>

                  </li>
                  <li>]</li>
               </ul>
            </p>
            <p>So we can see that we have imported all three pet files as an array. Now lets go ahead and export this array from within our <i>[<b>index.js</b>]</i> file:
               <ul class="sectHighlight">
                  <li>JavaScript</li>
                  <li class="commentStyle">// <span class="colorBlue">index</span>.js</li>
                  <li class="commentStyle">// export the allPets array</li>
                  <li><b>module.exports</b> = <span class="colorGreen">allPets</span>;</li>
               </ul>
            </p>
            <p>and now we can import the entire "pets" folder into our existing [<b>app.js</b>], by adding the following line:
               <ul class="sectHighlight">
                  <li>JavaScript</li>
                  <li class="commentStyle">// <span class="colorBlue">app</span>.js</li>
                  <li>const <span class="colorGreen">myPets</span> = require ('./<b>pets</b>');</li>
               </ul>
            </p>
            <p>and  now if we run our [<b>app.js</b>], we get this output:
               <ul class="sectHighlight">
                  <li>[
                     <ul>
                        <li>{ name: 'Chico', color: 'Brown', type: 'Dog' },</li>
                        <li>{ name: 'Jitters', color: 'Brown', type: 'Cat' },</li>
                        <li>{ name: 'Jasper', color: 'Black', type: 'Cat' }</li>
                     </ul>

                  </li>
                  <li>]</li>
               </ul>
               which is the same output we got when we ran [<b>index.js</b>], only this time we got the output running [<b>app.js</b>] and it still worked because we <i><b>imported</b></i> the entire <b>pets</b> folder into [<b>app.js</b>].
            </p>
            <p><b>Lets Recap</b>:
               <ul>
                  <li>- We created a new <b>pets</b> folder.</li>
                  <li>- Inside this folder we created three individual pet Js files.
                     <ul>
                        <li>each file exported info on an individual pet.</li>
                     </ul>
                  </li>
                  <li>- We then created an [<b>index.js</b>] "controller" file that imports all three pet files
                     <ul>
                        <li>we then added the three imports to an array, and exported that array.</li>
                     </ul>
                  </li>
                  <li>- Finally, we imported our <b>pets</b> folder into our [<b>app.js</b>] file.</li>
               </ul>
               and because we added the [<b>index.js</b>] "controller" file to our <b>pets</b> folder, when we import the folder, it also imports all of the individual <b>pet</b> files. The important point here is that most often when you import packages, they may contain many files, and they will all be controlled by an [<b>index.js</b>] "controller" file.
            </p>
         </article>
   </section>

      <p><br><a href="#top">Back to Top</a></p>
      <p>&nbsp;</p>
   </section>

   <!-- footer -->
   <footer id="app-footer"></footer>

   <!-- scripts -->
   <script src="/header.js"></script>
   <script src="/footer.js"></script>
</body>
</html>