<!DOCTYPE html>
<html lang="en" id="top">

<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Bodingles | Colt Steele</title>

   <!-- Link Favicon -->
   <link rel="icon" href="/images/logos/favicon.ico" type="image/x-icon">

   <!-- link stylesheet -->
   <link rel="stylesheet" href="/css/cssReset.css">
   <link rel="stylesheet" href="/css/root.css">
</head>

<body>
   <!-- Header -->
   <header id="app-header"></header>

   <!-- Main Body -->
   <section id="main" class="content">
      <!-- Title -->
      <section>
         <h2><i>The Web Developer Bootcamp 2024</i></h2>
         <p>Colt Steele</p>
         <p><a href="../expressIndex.html">Back to Express Index Page</a></p>
         <hr style="width: 40%;">
         <p>&nbsp;</p>
         <h5>Express Js</h5>
      </section>

      <section id="textWindow4" class="just">
         <!-- req & res -->
         <article>
            <h6>Request & Response</h6>
            <p><span class="firstWord">I</span>n the <a href="../installExpress/installExpress.html" target="_blank">"Install Express"</a> discussion, we learned how to get our server up ands running, and then start the server and check the output. Here is the server code:
            <p>
               <ul class="sectHighlight">
                  <li>JavaScript</li>
                  <li class="commentStyle"><span class="colorBlue">index</span>.js</li>
                  <li>const <span class="colorGreen">express</span> = <b>require</b>('<span class="colorPurple">express</span>');</li>
                  <li>const <span class="colorGreen">app</span> = <span class="colorPurple">express()</span>;</li>
                  <li>const <span class="colorGreen">port</span> = <b>3000</b></li>
                  <li class="commentStyle">// response for requests to the root URL (/)</li>
                  <li><span class="colorGreen">app</span>.get('/', ( req, res ) => {
                     <ul>
                        <li>res.send('Hello World!');</li>
                     </ul>
                  </li>
                  <li>})</li>
                  <li class="commentStyle">// starts the server : listens for response</li>
                  <li><span class="colorGreen">app</span>.listen( port, () => {
                     <ul>
                        <li>console.log(`App Server is running : Listening on port ${port}`)</li>
                     </ul>
                  </li>
                  <li>})</li>
               </ul>
            </p>
            <p>To recap, we:
               <ul>
                  <li>&#8756;&nbsp; required <i>(imported)</i> express : <span class="colorGreen">express</span></li>
                  <li>&#8756;&nbsp; created a variable to represent the express object : <span class="colorGreen">app</span></li>
                  <li>&#8756;&nbsp; created a variable to define the server port number : <span class="colorGreen">port</span> = <b>3000</b></li>
                  <li>&#8756;&nbsp; we started the server : <span class="colorGreen">app</span>.<b>listen</b></li>
                  <li>&#8756;&nbsp; and the server should now be running and waiting for a response, on <span class="colorGreen">port</span> = <b>3000</b>.</li>
               </ul>
            </p>
            <p>Waiting for a response? A response from where?</p>
            <p>This is where our last section of code comes in:
               <ul class="sectHighlight">
                  <li><span class="colorGreen">app</span>.get('/', ( <b>req</b>, <b>res</b> ) => {
                     <ul>
                        <li>res.send('Hello World!')</li>
                     </ul>
                  </li>
                  <li>})</li>
               </ul>
            </p>
            <p>You notice this code uses two new parameters, <b>req</b>, and <b>res</b>. But what are these new parameters and what do they do?</p>
         </article><hr>

         <!-- req & res -->
         <article>
            <h6>req & res</h6>
            <p><span class="firstWord">T</span>hese properties have very specific uses with our server request. <b>req</b> is a property that represents the <i>incoming</i> request, and <b>res</b> is a property that represents the <i>outgoing</i> result of that request.</p>
            <p>In our little example, where we simply started the server, and then output "Hello World", our <b>req</b> was sent when we started the server. While we didn't "request" any specific data, we did send a request to the server. And if if we add a new line logging out the <b>req</b>:
               <ul class="sectHighlight">
                  <li>console.<b>dir</b>( <b>req</b> )</li>
               </ul>
               what we would get is a massive object of all kinds of information that represents our request.
            </p>
            <p>Now for the response, we used a "method" called <b>send</b> to output our response to the browser window. In our case, we used <b>res.send("Hello World");</b></p>
            <p>The important thing to know about the <b>send</b> method of the <b>res</b> property is that it is very versatile. We could send a string of text, a .json file, or some HTML code with text such as:
               <ul>
                  <li>&lt;h6>This is My Header&lt;/h6></li>
               </ul>
               and Express will process the http <b>req</b> and convert the output appropriately. So for these little examples, the browser window would display"
               <ul>
                  <li>a string of text,</li>
                  <li>a json file contents, or</li>
                  <li>an actual html markup for an &lt;h6> element</li>
               </ul>
            </p>
         </article><hr>

         <!-- Summary -->
          <article>
            <h6>Summary</h6>
            <p><span class="firstWord">T</span>o sum it all up:
               <ul>
                  <li>&#8756;&nbsp; <b>req</b> is an object, created by express that represents the <b>http request</b> sent to the server.</li>
                  <li>&#8756;&nbsp; <b>res</b> represent <b>the result of the request</b>. There are many methods of the <b>res</b> property that can be  <a href="https://expressjs.com/en/5x/api.html" target="_blank" crossorigin="anonymous" referrerpolicy="no-referrer">found here</a>. <b>*note</b> there is a quick index on the right side of the page.</li>
                  <li>&#8756;&nbsp; <b>Express</b> will convert the request into the proper type of result, based on the http request.</li>
               </ul>
            </p>
          </article>
   </section>

      <p><br><a href="#top">Back to Top</a></p>
      <p>&nbsp;</p>
   </section>

   <!-- footer -->
   <footer id="app-footer"></footer>

   <!-- scripts -->
   <script src="/header.js"></script>
   <script src="/footer.js"></script>
</body>
</html>