<!DOCTYPE html>
<html lang="en" id="top">

<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Bodingles | Colt Steele</title>

   <!-- Link Favicon -->
   <link rel="icon" href="/images/logos/favicon.ico" type="image/x-icon">

   <!-- link stylesheet -->
   <link rel="stylesheet" href="/css/cssReset.css">
   <link rel="stylesheet" href="/css/root.css">
   <style>
      .backHigh {
         background-color: #d6fff1;
      }
   </style>
</head>

<body>
   <!-- Header -->
   <header id="app-header"></header>

   <!-- Main Body -->
   <section id="main" class="content">
      <!-- Title -->
      <section>
         <h2><i>The Web Developer Bootcamp 2024</i></h2>
         <p>Colt Steele</p>
         <p><a href="../templatingIndex.html">Back to Templating Index Page</a></p>
         <hr style="width: 40%;">
         <p>&nbsp;</p>
         <h5>Express EJS Project</h5>
      </section>

      <section id="textWindow4" class="just">
         <!-- Intro -->
         <article>
            <h6>Intro</h6>
            <p><span class="firstWord">W</span>e've built an express <b>ejs</b> project which uses several technologies to demonstrate several principles, including how to process Js code <b>within</b> an html file <i>(using Embedded Js (<b>ejs</b>))</i>, and also, how to render applications from the <b>server-side</b>.</p>
            <p>One page displays a random number generator, and another simple list output. Very simple stuff here, but invaluable information in learning how to  process Js <b>within</b> an html file, and also how to generate <b>server-side</b> rendered output.</p>
            <p>And lastly, we created a "sub-Reddit" project meant to demonstrate these basic technologies and their use. This is not a fully functional Reddit clone. We are simply going to be demonstrating how to pull data from an external source and create a template to display the data.</p>
            <p>To view these files in our browser, we need our server running, so:
               <ol>
                  <li>Open your Terminal application</li>
                  <li>Navigate to your Project Directory <i>(where your <b>index.js</b> file is located)</i></li>
                  <li>Type <b>node index.js</b> or <b>nodemon index.js</b></li>
               </ol>
               Your server should now be running and because we added a "console.log()" statement to our index.js file, it will display "<b>Server Online : Listening on port: 3000</b>", in the Terminal. And now with our server running, and in the browser address bar, go to <b>http://localhost:3000/home</b>
            </p>
            <p>To build the subReddit part of this project, we are going to be pulling data from a <b>.json</b> file. This file contains data for three different sub-reddits. The relative <b>.json</b> file can be <a href="/express/assets/files/json/ejsDemoData.json" target="_blank">viewed here</a>., and the technologies that we're going to be utilizing are:
               <ol>
                  <li>HTML</li>
                  <li>JavaScript</li>
                  <li>node.js</li>
                  <li>nodemon</li>
                  <li>Express</li>
                  <li>Embedded JavaScript (ejs)</li>
               </ol>
            We will be combining our HTML, and Js code into <b>ejs</b> files.</p>
         </article>
      </section>

      <section id="textWindow4" class="just">
         <!-- Basic Setup -->
         <article>
            <h6>Basic Setup</h6>
            <p><span class="firstWord">F</span>or our Basic Setup, we will have:
               <ol>
                  <li>Our "Parent" directory is set up. <i>(called <b>express</b>)</i></li>
                  <li>Our <b>package.json</b> file is set up.</li>
                  <li><b>Express</b> is installed <i>(node_modules directory)</i></li>
                  <li><b>EJS</b> is installed  <i>(node_modules directory)</i></li>
                  <li><b>nodemon</b> is installed <i>(for build purposes)</i></li>
                  <li>Our <b>index.js</b> Server File is set up</li>
                  <li>We have our "Static Files Directory" and it's sub-directories:
                     <ul>
                        <li style="list-style: none;"><b>assets</b>
                           <ul>
                              <li style="list-style: none;">css</li>
                              <li style="list-style: none;">files</li>
                              <li style="list-style: none;">js</li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li>we have our <b>views</b> folder for our four <b>ejs</b> files:
                     <ul>
                        <li style="list-style: none;"><b>views</b>
                           <ul>
                              <li style="list-style: none;">home.ejs</li>
                              <li style="list-style: none;">pets.ejs</li>
                              <li style="list-style: none;">subReddit.ejs</li>
                              <li style="list-style: none;">notFound.ejs</li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li>and we have our <b>includes</b> files a header/footer/navbar"
                     <ul>
                        <li style="list-style: none;"><b>includes</b>
                           <ul>
                              <li style="list-style: none;">footer.ejs</li>
                              <li style="list-style: none;">header.ejs</li>
                              <li style="list-style: none;">navbar.ejs</li>
                           </ul>
                        </li>
                     </ul>
                  </li>
               </ol>
            </p>
         </article>
      </section>

      <section id="textWindow4" class="just">
         <!-- File & Folder Setup -->
         <article>
            <h6>Directory Structure</h6>
            <p><span class="firstWord">H</span>ere is our complete directory structure:
               <ul class="sectHighlight">
                  <li><img src="/images/folder_16x16.png" valign="middle" alt="Folder Icon">&nbsp; <b>express</b>
                     <ul>
                        <li><img src="/images/folder_16x16.png" valign="middle" alt="Folder Icon">&nbsp; assets
                           <ul>
                              <li>- <img src="/images/folder_16x16.png" valign="middle" alt="Folder Icon">&nbsp; css
                                 <ul>
                                    <li><img src="/images/css.png" width="16" height="16" valign="middle" alt="ejs Icon">&nbsp; bootstrap.min.css</li>
                                    <li><img src="/images/css.png" width="16" height="16" valign="middle" alt="ejs Icon">&nbsp; localStyles.css</li>
                                    <li><img src="/images/css.png" width="16" height="16" valign="middle" alt="ejs Icon">&nbsp; root.css</li>
                                 </ul>
                              </li>
                              <li>- <img src="/images/folder_16x16.png" valign="middle" alt="Folder Icon">&nbsp; files
                                 <ul>
                                    <li>- <img src="/images/folder_16x16.png" valign="middle" alt="Folder Icon">&nbsp; json
                                       <ul>
                                          <li><img src="/images/json.png" valign="middle" width="16" height="16" valign="middle" alt="ejs Icon">&nbsp; ejsDemoData.json</li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li>- <img src="/images/folder_16x16.png" valign="middle" alt="Folder Icon">&nbsp; js
                                 <ul>
                                    <li><img src="/images/js.png" valign="middle" width="16" height="16" valign="middle" alt="ejs Icon">&nbsp; bootstrap.min.js</li>
                                    <li><img src="/images/js.png" valign="middle" width="16" height="16" valign="middle" alt="ejs Icon">&nbsp; jquery-3/7/1/min.js</li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><img src="/images/folder_16x16.png" valign="middle" alt="Folder Icon">&nbsp; node_modules</li>
                        <li><img src="/images/folder_16x16.png" valign="middle" alt="Folder Icon">&nbsp; views
                           <ul>
                              <li class="commentStyle">// experimental view to render Bodingles Home on server</li>
                              <li class="commentStyle">// this view is entirely separate from our subReddit EJS Project</li>
                              <li>- <img src="/images/folder_16x16.png" valign="middle" alt="Folder Icon">&nbsp; bodingles
                                 <ul>
                                    <li>- <img src="/images/folder_16x16.png" valign="middle" alt="Folder Icon">&nbsp; includes
                                       <ul>
                                          <li><img src="/images/ejs.png" valign="middle" alt="ejs Icon">&nbsp; footer.ejs</li>
                                          <li><img src="/images/ejs.png" valign="middle" alt="ejs Icon">&nbsp; header.ejs</li>
                                       </ul>
                                    </li>
                                    <li><img src="/images/ejs.png" valign="middle" alt="ejs Icon">&nbsp; bodIndex.ejs</li>
                                 </ul>
                              </li>
                              <li class="commentStyle">// subReddit view to render on server</li>
                              <li>- <img src="/images/folder_16x16.png" valign="middle" alt="Folder Icon">&nbsp; subReddit
                                 <ul>
                                    <li>- <img src="/images/folder_16x16.png" valign="middle" alt="Folder Icon">&nbsp; includes
                                       <ul>
                                          <li><img src="/images/ejs.png" valign="middle" alt="ejs Icon">&nbsp; footer.ejs</li>
                                          <li><img src="/images/ejs.png" valign="middle" alt="ejs Icon">&nbsp; header.ejs</li>
                                          <li><img src="/images/ejs.png" valign="middle" alt="ejs Icon">&nbsp; navbar.ejs</li>
                                       </ul>
                                    </li>
                                    <li><img src="/images/ejs.png" valign="middle" alt="ejs Icon">&nbsp; home.ejs</li>
                                    <li><img src="/images/ejs.png" valign="middle" alt="ejs Icon">&nbsp; pets.ejs</li>
                                    <li><img src="/images/ejs.png" valign="middle" alt="ejs Icon">&nbsp; subReddit.ejs</li>
                                    <li><img src="/images/ejs.png" valign="middle" alt="ejs Icon">&nbsp; notFound.ejs</li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><img src="/images/js.png" valign="middle" width="16" height="16" valign="middle" alt="ejs Icon">&nbsp; index.js</li>
                        <li><img src="/images/json.png" valign="middle" width="16" height="16" valign="middle" alt="ejs Icon">&nbsp; package-lock.json</li>
                        <li><img src="/images/json.png" valign="middle" width="16" height="16" valign="middle" alt="ejs Icon">&nbsp; package.json</li>
                     </ul>
                  </li>
               </ul>
            </p>
         </article>
      </section>

      <section id="textWindow4" class="just">
         <!-- Server Setup -->
         <article>
            <h6>Server Code</h6>
            <p><span class="firstWord">H</span>ere is our complete Server Setup:
               <ul class="sectHighlight">
                  <li>JavaScript</li>
                  <li class="commentStyle"><span class="colorBlue">index</span>.js | Server Code</li>
                  <li>&nbsp;</li>
                  <li class="commentStyle">// Set the variables and requires</li>
                  <li>const <span class="colorGreen">express</span> = require( '<span class="colorPurple">express</span>' );</li>
                  <li>const <span class="colorGreen">app</span> = <span class="colorPurple">express()</span>;</li>
                  <li>const <span class="colorGreen">port</span> = <b>3000</b>;</li>
                  <li>const <span class="colorGreen">path</span> = require( '<span class="colorPurple">path</span>' );</li>
                  <li>const <span class="colorGreen">demoData</span> = require( '<b>./assets/files/json/ejsDemoData.json</b>' );</li>
                  <li>&nbsp;</li>
                  <li class="commentStyle">// set our view engine to ejs</li>
                  <li>app.<span class="colorBlue">set</span>( 'view engine', 'ejs' );</li>
                  <li>&nbsp;</li>
                  <li class="commentStyle">// define our "path" to the views sub-directories</li>
                  <li class="commentStyle">// we create an array because there are two separate views (Bodingles & subReddit)</li>
                  <li class="commentStyle">// when you make a <b>req</b> in the browser, it searches ALL of the views listed in the array for a match</li>
                  <li>app.<span class="colorBlue">set</span>( 'views' [
                     <ul>
                        <li>path.<span class="colorBlue">join</span>(__dirname, '<span class="colorOrange">views/bodingles</span>'),</li>
                        <li>path.<span class="colorBlue">join</span>(__dirname, '<span class="colorOrange">views/subReddit</span>')</li>
                     </ul>
                  </li>
                  <li>])</li>
                  <li class="commentStyle">// define our "path" to the "static files" directory</li>
                  <li><b>app.</b><span class="colorBlue">use</span>(<b>express</b>.<span class="colorRed">static</span>(path.<span class="colorBlue">join</span>(__dirname, '<span class="colorOrange">assets</span>')))</li>
                  <li>&nbsp;</li>
                  <li class="commentStyle">// get request for root view (Bodingles) : experiment in server rendered Bodingles Home</li>
                  <li>app.<span class="colorBlue">get</span>( '<b>/</b>', ( req, res ) => {
                     <ul>
                        <li>res.<span class="colorRed">render</span>('<b>bodIndex</b>') &nbsp;&nbsp;</li>
                     </ul>
                  </li>
                  <li>})</li>
                  <li>&nbsp;</li>
                  <li class="commentStyle">// get request for root view (express ejs app)</li>
                  <li>app.<span class="colorBlue">get</span>( '<b>/home</b>', ( req, res ) => {
                     <ul>
                        <li>const <span class="colorBlue">num</span> = Math.floor(Math.random() * 100) + 1;</li>
                        <li>res.<span class="colorRed">render</span>('<b>home</b>', { <span class="colorBlue">num</span> })</li>
                     </ul>
                  </li>
                  <li>})</li>
                  <li>&nbsp;</li>
                  <li class="commentStyle">// get request for pets view</li>
                  <li>app.<span class="colorBlue">get</span>( '<b>/pets</b>', ( req, res ) => {
                     <ul>
                        <li>const <span class="colorGreen">pets</span> = [ 'Chico', 'Bella', 'Sadie', 'Addie Cakes', 'BooBoo', 'Jasper', 'Jitters' ];</li>
                        <li>res.<span class="colorRed">render</span>('<b>pets</b>', { <span class="colorGreen">pets</span> })</li>
                     </ul>
                  </li>
                  <li>})</li>
                  <li>&nbsp;</li>
                  <li class="commentStyle">// get request for subreddit view</li>
                  <li>app.<span class="colorBlue">get</span>( '<b>/r/:subreddit</b>', ( req, res ) => {
                     <ul>
                        <li class="commentStyle">// <span class="colorRed">params</span> breaks down the <b>req</b> object and returns an array with the object parameters</li>
                        <li>const { <span class="colorGreen">subreddit</span> } = <b>req.</b><span class="colorRed">params</span>;</li>
                        <li>const <span class="colorGreen">data</span> = <b>demoData[<span class="colorGreen">subreddit</span>]</b>;</li>
                        <li>if ( <span class="colorGreen">data</span> ) {
                           <ul>
                              <li class="commentStyle">// the 3 dots allow us to "spread" the data to get to the individual pieces, such as "Name"</li>
                              <li>res.<span class="colorRed">render</span>(' <span class="colorGreen">subreddit</span>', { ...<span class="colorGreen">data</span> })</li>
                           </ul>
                        </li>
                        <li>} else {
                           <ul>
                              <li class="commentStyle">// if requested page is not found</li>
                              <li>res.<span class="colorRed">render</span>( '<span class="colorGreen">notFound</span>', { <span class="colorGreen">subreddit</span> })</li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li>})</li>
                  <li>&nbsp;</li>
                  <li class="commentStyle">// Start Server : Listening on {port}</li>
                  <li>app.<span class="colorBlue">listen</span>( <span class="colorGreen">port</span>, () => {
                     <ul>
                        <li>console.log(`Server Online : Listening on port: ${ <span class="colorGreen">port</span> }`);</li>
                     </ul>
                  </li>
                  <li>})</li>
               </ul>
            </p>
            <p>We can notice a couple of important issues here:
               <ul>
                  <li>- we are <b>requiring</b> our <b>.json</b> file, which will give us access to it's data.</li>
                  <li>- if we look at our <span class="colorBlue">get</span> request, we see that we're using the <span class="colorRed">params</span> method
                     <ul>
                        <li>- this will return the individual parameters of the <b>req</b> object, and assign it to the variable as an object</li>
                     </ul>
                  </li>
                  <li>- next we notice that we are assigning out <b>.json</b> file data, as an array.
                     <ul>
                        <li>- this is because we have three subReddits within the <b>.json</b> file and the will be allocated to the variable as three array parameters.</li>
                     </ul>
                  </li>
                  <li>- next is an error check to make sure the sub-Reddit the user is searching for, actually exists
                     <ul>
                        <li>- if it does: we'll break the sub-Reddit data into usable pieces using <b>...</b> and <span class="colorRed">render</span> it for output.</li>
                        <li>- if not: we'll <span class="colorRed">render</span> the <span class="colorGreen">notFound</span> page.</li>
                     </ul>
                  </li>
               </ul>
            </p>
            <p>A brief discussion about using an array to define our view paths. I was experimenting with running a <b>Bodingles</b> page that was rendered on the server. But since I already had my <b>subReddit</b> ejs demo, I ended up with two different <b>views</b> that are not related. But, how to be able to access each one, and their corresponding sub-pages, with one <b>index.js</b> file?</p>
            <p>Turns out the <b>array</b> is the answer. When we are defining our <b>views path's</b>, if we list multiple views within an array, the server will search through all of the <b>views</b> listed in the array to find a match. If it doesn't find one, it's going to render the <b>notFound.ejs</b> page.</p>
         </article>
      </section>

      <section id="textWindow4" class="just">
         <!-- Includes Setup -->
         <article>
            <h6>the Includes</h6>
            <p><span class="firstWord">W</span>e are going to be using <b>includes</b> in our process, so we can demonstrate how to use them. Remember the <b>includes</b> will go in the <b>views/includes</b> sub-directory.</p>
            <p>Now in our <b>Bodingles</b> html app, which renders on the <b>client-side</b>, we used external, <b>header/footer</b> Js files that are using <b>innerHTML</b> to build and display the header and footer. In the individual html pages that use the <b>header/footer</b>, we simply add an empty <b>&lt;div></b> with an <b>id</b> that we access in the Js file. And of course we need the <b>&lt;script></b> elements before our closing <b>&lt;body></b> elements So in any of our html pages, we'll have:
               <ul class="sectHighlight">
                  <li>html</li>
                  <li class="commentStyle">// any html file</li>
                  <li>&lt;body>
                     <ul>
                        <li>&lt;div id="header">&lt;/div></li>
                        <li>...</li>
                        <li>&lt;div id="footer">&lt;/div></li>
                        <li>&nbsp;</li>
                        <li>&lt;script src="header.js">&lt;/script></li>
                        <li>&lt;script src="footer.js">&lt;/script></li>
                     </ul>
                  </li>
                  <li>&lt;/body></li>
               </ul>
            </p>
            <p>Now in our <b>header/footer</b> Js files, we'd have:
               <ul class="sectHighlight">
                  <li>JavaScript</li>
                  <li class="commentStyle">header</span>.js</li>
                  <li>const <span class="colorGreen">head</span> = document.querySelector('<b>#header</b>');</li>
                  <li><span class="colorGreen">head</span>.innerHTML = 'All header HTML code goes here';</li>
                  <li class="commentStyle">or</li>
                  <li class="commentStyle"><span class="colorBlue">footer</span>.js</li>
                  <li>const <span class="colorGreen">foot</span> = document.querySelector('<b>#footer</b>');</li>
                  <li><span class="colorGreen">foot</span>.innerHTML = 'All footer HTML code goes here';</li>
               </ul>
            </p>
            <p>This works but remember, all of these files are rendered on the <b>client-side</b>.</p>

            <p>We want to incorporate the same general process of having <b>external</b> files that we can incorporate into other files, but we want to do this while rendering everything, on the <b>server-side</b>. As it turns out, we can utilize essentially the same process with <b>includes</b>, but done a little differently.</p>

            <p>Remember that <b>server-side</b> rendering can be done with <b>html</b> files, but with limitations. These file can't access any external links such as css or Js.</p>
            <p>These files are normally written with <b>html</b> coding, <b>but saved as ejs files</b>. This is done so that we can "<b>embed</b>" Js coding within our <b>html</b> coding, which is how our <b>includes</b> works. They are Js coding written within an html page.</p>

            <p>One last note about our <b>includes files</b> here. We do NOT need to create a complete HTML page with all the essential elements such a <b>&lt;head></b> and <b>&lt;body></b> elements. We ONLY need the HTML coding for the specific data that we want in our <b>include</b>.
            </p>
            <p>So, for example, the code for our header/footer.ejs <b>include</b> files will look like this:
               <ul class="sectHighlight">
                  <li>HTML/EJS</li>
                  <li class="commentStyle"><span class="colorBlue">header</span>.ejs</li>
                  <li>&lt;header>
                     <ul>
                        <li>header html coding goes here</li>
                     </ul>
                  </li>
                  <li>&lt;/header></li>
                  <li>or</li>
                  <li class="commentStyle"><span class="colorBlue">footer</span>.ejs</li>
                  <li>&lt;footer>
                     <ul>
                        <li>Footer html coding goes here</li>
                     </ul>
                  </li>
                  <li>&lt;/footer></li>
               </ul>
            </p>
            <p>Remember, we save these files as <b>ejs</b> files (<b>header.ejs/footer.ejs</b>).</p>
            <p>And finally, we can "include" our <b>includes</b> files, into our other <b>ejs</b> files. Remember, they MUST be <b>ejs</b> files so that we can <b>embed</b> the Js coding within our <b>html</b> coding. The include call is one line of Js code, written within some <b>html</b> coding, using the <b>ejs</b> syntax, like so:
               <ul class="sectHighlight">
                  <li>HTML/EJS</li>
                  <li class="commentStyle">// any ejs file that wants to include these external ejs files</li>
                  <li>&lt;body>
                     <ul>
                        <li>&lt;%- include('includes/header') %></li>
                        <li>...</li>
                        <li>... other page coding here ...</li>
                        <li>...</li>
                        <li>&lt;%- include('includes/footer') %></li>
                     </ul>
                  </li>
               <li>&lt;/body></li>
               </ul>
            </p>
            <p>Very simple coding here to <b>include</b> our external <b>header/footer.ejs</b> files. A couple of things to note here:
               <ol>
                  <li>Any external "includes"" files can be either <b>html</b> or <b>ejs</b> files, however
                     <ul>
                        <li style="list-style: none;"><i>if there is any "scripting" or js coding involved, they must be <b>ejs</b> files</i></li>
                     </ul>
                  </li>
                  <li>Any pages that want to <b>include</b> the external "include" files must be <b>ejs</b> files.</li>
                  <li>And finally, we must use <b>&lt;%-</b> as the <b>ejs syntax</b> to generate the include.</li>
               </ol>
            </p>
            <p>So we should be able to create our include files, save them in the <b>includes</b> sub-directory, and actually <b>include</b> them into any <b>ejs</b> file. We can now set up our individual pages <i>(views)</i>.</p>
         </article>
      </section>

      <section id="textWindow4" class="just">
         <!-- Setting Up our Views -->
         <article>
            <h6>Setting Up our Views</h6>
            <p><span class="firstWord">W</span>e need to understand that the point of the <b>subReddit</b> ejs project is to be able to set up a server that will pull data from an external source and produce an output. The "pulling" of the data, it's processing, and rendering, are all going to be handled <i><b>on the server side</b></i>.</p>
            <p>Also, we are going to be <span class="colorRed">rendering</span> our output <i>(our views)</i>, as <b>ejs</b> files, so we need to point out a couple of distinctions here, between <b>ejs</b> files, and <b>html</b> files. Both file types output their data from html coding. However, there are a couple of important differences:
               <ul>
                  <li>- <b>html</b> files are <span class="colorRed">rendered</span> on the <b>client side</b> which means they can utilize external files such as css, and Js files.</li>
                  <li>- <b>ejs</b> files however, are <span class="colorRed">rendered</span> on the <b>server side</b>. This means that they can NOT access external css or Js files. But they can process Js <i>internally</i> within the html file itself, and we'll use this capability to <span class="colorRed">render</span> our output.</li>
               </ul>
            </p>
            <p><b>So we start</b> by creating a basic html file, by opening a new empty file and <i>(in vsCode)</i> pressing [<b>sh</b> + <b>!</b>]. This will give us the basic html structure we need for an ejs file.
               <ul>
                  <li class="commentStyle"><i><b>*note</b>: you could of course set this up manually, and type in all the required html info, but it is much simpler to let vsCode do the work for us</i>.</li>
               </ul>
            And now we have an empty html file with the basic structure. We can set a <b>title</b> if we want. And we need to save this file, but NOT as an <b>html</b> file, but as an <b>ejs</b> file. So we'll make sure we're in our "<b>views</b>" directory, and save our file as [<i>filename.<b>ejs</b></i>].
            </p>
            <p>We're going to have four files (views) in our complete express <b>ejs</b> project, so we create and save the following files:
               <ol>
                  <li>home.ejs <span class="commentStyle">// displays a random number generator plus a couple of "lorem inpsum" paragraphs</span></li>
                  <li>pets.ejs <span class="commentStyle">// displays a bulleted list</span></li>
                  <li>subReddit.ejs <span class="commentStyle">// displays three different sub-reddits:</span>
                     <ul>
                        <li style="list-style: none;">Chickens</li>
                        <li style="list-style: none;">Mighty Harvest</li>
                        <li style="list-style: none;">Soccer</li>
                     </ul>
                  </li>
                  <li>notFound.ejs <span class="commentStyle">// displays message if query not found</span></li>
               </ol>
            </p>
            <p>And now our basic files are set up and ready to go. We need to understand that, all we are concerned about for the rendering, is what code is contained, within the <b>body</b> element of the page. This is where we'll be writing our code for our output. No "css" files. No "script" files. Just html, and embedded Js coding with the proper "<b>ejs syntax</b>".</p>
            <p>So for our breakdown of our code, we are not going to list the entire file contents, only the coding that resides within the <b>&lt;body> - &lt;/body></b> elements of the page. Also, I'm not going to do a breakdown of the "Bodingles" project. That was a just an experiment to see if I could make it work. But I did mention it earlier in the folder setup, and in the server code, but only to show how we could incorporate multiple views, within one <b>index.js</b> file.</p>
         </article><hr>

         <!-- home.ejs -->
         <article>
            <h6>home.ejs</h6>
            <ul class="sectHighlight">
               <li>EJS</li>
               <li class="commentStyle"><span class="colorBlue">home</span>.ejs</li>
               <li>&lt;body>
                  <ul>
                     <li><span class="backHigh">&nbsp;&nbsp;&lt;%- include('includes/header') %>&nbsp;&nbsp;</span></li>
                     <li>&lt;div>
                        <ul>
                           <li class="commentStyle">// Bootstrap NavBar</li>
                           <li><span class="backHigh">&nbsp;&nbsp;&lt;%- include('includes/navBar') %>&nbsp;&nbsp;</span></li>
                           <li>&nbsp;</li>
                           <li>&lt;h3>This is my EJS <span class="backHigh">&nbsp;&nbsp;&lt;%= 'demo '.toUpperCase() %>&nbsp;&nbsp;</span> Page&lt;/h3></li>
                           <li>&lt;p>Todays Random Number is: &lt;b><%= num %>&lt;/b> and it's an </li>
                           <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;b><span class="backHigh">&nbsp;&nbsp;&lt;%= num%2===0 ? 'EVEN' : 'ODD' %>&nbsp;&nbsp;</span> &lt;/b>number.&lt;/p></li>
                           <li>&nbsp;</li>
                           <li>&lt;p>lorem ipsum ...&lt;/p></li>
                           <li>&lt;p>lorem ipsum ...&lt;/p></li>
                        </ul>
                     </li>
                     <li>&lt;/div></li>
                     <li><span class="backHigh">&nbsp;&nbsp;&lt;%- include('includes/footer') %>&nbsp;&nbsp;</span></li>
                  </ul>
               </li>
               <li>&lt;/body>
            </ul>
            <p>Notice that we are <b>including</b> our <b>header/footer</b> external files, and also our <b>Bootstrap NavBar</b> we generated as a separate include file in our <b>includes</b> sub-directory. And in other sections, we have some pure Js coding, all <b>embedded</b> within our <b>html</b> structure.</p>
            <p>Also, notice the use of <b>&lt;%-</b>, and <b>&lt;%=</b> for the Js coding. This is the "<b>proper syntax</b>" for <b>ejs</b> files:
               <ul>
                  <li><b>&lt;%= %></b> "Outputs the value into the template (HTML escaped)", which means, it processed the Js code and converted it into html output.</li>
                  <li><b>&lt;%- %></b> "Outputs the unescaped value into the template", which means, it runs the embedded Js code to produce an output, but doesn't convert anything.</li>
               </ul>
            This is exactly why we're using <b>ejs</b> files as opposed to pure <b>html</b> files. Remember, <b>ejs</b> is "<b>embedded</b>" JavaScript. It allows us to embed Js coding within <b>html</b> code.</p>
         </article><hr>

         <!-- pets.ejs -->
         <article>
            <h6>pets.ejs</h6>
            <ul class="sectHighlight">
               <li>EJS</li>
               <li class="commentStyle"><span class="colorBlue">pets</span>.ejs</li>
               <li>&lt;body>
                  <ul>
                     <li><span class="backHigh">&nbsp;&nbsp;&lt;%- include('includes/header') %>&nbsp;&nbsp;</span></li>
                     <li>&lt;div>
                        <ul>
                           <li class="commentStyle">// Bootstrap NavBar</li>
                           <li><span class="backHigh">&nbsp;&nbsp;&lt;%- include('includes/navBar') %>&nbsp;&nbsp;</span></li>
                           <li>&lt;h1>express Demo&lt;/h1></li>
                           <li>&nbsp;</li>
                           <li>&lt;h5>These are Our Pets&lt;/h5></li>
                           <li>&lt;hr></li>
                           <li><span class="backHigh">&nbsp;&nbsp;&lt;% for ( pet of pets ) { %>&nbsp;&nbsp;</span>
                           <ul>
                              <li>&lt;p><span class="backHigh">&nbsp;&nbsp;<%= pet %>&nbsp;&nbsp;</span>&lt;/p></li>
                           </ul>
                        </li>
                           <li><span class="backHigh">&nbsp;&nbsp;&lt;% } %>&nbsp;&nbsp;</span></li>
                        </ul>
                     </li>
                     <li>&lt;/div></li>
                     <li><span class="backHigh">&nbsp;&nbsp;&lt;%- include('includes/footer') %>&nbsp;&nbsp;</span></li>
                  </ul>
               </li>
               <li>&lt;/body>
            </ul>
            <p>Notice here that we've introduced <b>&lt;%</b>, that is a 'Scriptlet' tag, for control-flow. It runs the Js code, similar to <b>&lt;%-</b>, but it produces no output. So you would use this syntax anytime you just want to run some embedded Js code, such as our <b>for</b> loop.</p>
         </article><hr>

         <!-- subReddit.ejs -->
         <article>
            <h6>subReddit.ejs</h6>
            <ul class="sectHighlight">
               <li>EJS</li>
               <li class="commentStyle"><span class="colorBlue">subReddit</span>.ejs</li>
               <li>&lt;body>
                  <ul>
                     <li><span class="backHigh">&nbsp;&nbsp;&lt;%- include('includes/header') %>&nbsp;&nbsp;</span></li>
                     <li>&lt;div>
                        <ul>
                           <li class="commentStyle">// Bootstrap NavBar</li>
                           <li><span class="backHigh">&nbsp;&nbsp;&lt;%- include('includes/navBar') %>&nbsp;&nbsp;</span></li>
                           <li>&nbsp;</li>
                           <li>&lt;h1>subReddits Demo&lt;/h1></li>
                           <li class="commentStyle">// all variable data is received from the index.js app.GET</li>
                           <li class="commentStyle">// all subReddit data originates from ejsDemoData.json</li>
                           <li>&lt;h2><span class="backHigh">&nbsp;&nbsp;&lt;%= <span class="colorGreen">name</span> %>&nbsp;&nbsp;</span>&lt;/h2></li>
                           <li>&lt;h4><span class="backHigh">&nbsp;&nbsp;&lt;%= <span class="colorGreen">description</span>  %>&nbsp;&nbsp;</span>&lt;/h4></li>
                           <li class="commentStyle">// subscriber info</li>
                           <li>&lt;p>Total Subscribers: &lt;b><span class="backHigh">&nbsp;&nbsp;&lt;%= <span class="colorGreen">subscribers</span> %>&nbsp;&nbsp;</span>&lt;/b>&lt;/p>&lt;hr></li>
                           <li>&nbsp;</li>
                           <li class="commentStyle">// loop to display all posts</li>
                           <li><span class="backHigh">&nbsp;&nbsp;&lt;% for ( <span class="colorBlue">post</span> of <span class="colorGreen">posts</span> ) { %>&nbsp;&nbsp;</span>
                              <ul>
                                 <li>&lt;article>
                                    <ul>
                                       <li class="commentStyle">// post author and title</li>
                                       <li>&lt;p>&lt;b><span class="backHigh">&nbsp;&nbsp;&lt;%= <span class="colorBlue">post</span>.<span class="colorGreen">author</span> %>&nbsp;&nbsp;</span>&lt;/b>: <span class="backHigh">&nbsp;&nbsp;&lt;%= <span class="colorBlue">post</span>.<span class="colorGreen">title</span> %>&nbsp;&nbsp;</span>&lt;/p></li>
                                       <li class="commentStyle">// if post has an image check</li>
                                       <li><span class="backHigh">&nbsp;&nbsp;&lt;% if (<span class="colorBlue">post</span>.<span class="colorRed">img</span>) { %>&nbsp;&nbsp;</span>
                                          <ul>
                                             <li>&lt;img src="<span class="backHigh">&nbsp;&nbsp;&lt;%= <span class="colorBlue">post</span>.<span class="colorRed">img</span> %>&nbsp;&nbsp;</span>" alt="<span class="backHigh">&nbsp;&nbsp;&lt;%= <span class="colorBlue">post</span>.<span class="colorGreen">title</span> %>&nbsp;&nbsp;</span>"></li>
                                          </ul>
                                       </li>
                                       <li><span class="backHigh">&nbsp;&nbsp;&lt;% } else { %>&nbsp;&nbsp;</span>
                                          <ul>
                                             <li>&lt;p>&lt;b>No Image Available&lt;/b>&lt;/p></li>
                                          </ul>
                                       </li>
                                       <li><span class="backHigh">&nbsp;&nbsp;&lt;% } %>&nbsp;&nbsp;</span></li>
                                    </ul>
                                 </li>
                                 <li>&lt;/article>&lt;hr></li>
                              </ul>
                           </li>
                           <li><span class="backHigh">&nbsp;&nbsp;&lt;% } %>&nbsp;&nbsp;</span></li>
                        </ul>
                     <li>&lt;/div></li>
                     <li><span class="backHigh">&nbsp;&nbsp;&lt;%- include('includes/footer') %>&nbsp;&nbsp;</span></li>
                  </ul>
               </li>
               <li>&lt;/body>
            </ul>
            <p>And now we are using a variety of <b>ejs</b> Js to produce our output. Remember that, what we have created here <b>is a template.</b> This <b>template</b> will produce the same layout for <b>all</b> of our sub-Reddit pages (views), but each individual page (view), will have it's own set of data.</p>
         </article><hr>

         <!-- notFound.ejs -->
         <article>
            <h6>notFound.ejs</h6>
            <ul class="sectHighlight">
               <li>EJS</li>
               <li class="commentStyle"><span class="colorBlue">notFound</span>.ejs</li>
               <li>&lt;body>
                  <ul>
                     <li><span class="backHigh">&nbsp;&nbsp;&lt;%- include('includes/header') %>&nbsp;&nbsp;</span></li>
                     <li>&lt;div>
                        <ul>
                           <li class="commentStyle">// Bootstrap NavBar</li>
                           <li><span class="backHigh">&nbsp;&nbsp;&lt;%- include('includes/navBar') %>&nbsp;&nbsp;</span></li>
                           <li>&lt;h6>We're sorry, but the <span class="backHigh">&nbsp;&nbsp;&lt;%= <span class="colorGreen">subreddit</span> %>&nbsp;&nbsp;</span> subreddit was not found.&lt;/h6></li>
                        </ul>
                     </li>
                     <li>&lt;/div></li>
                     <li><span class="backHigh">&nbsp;&nbsp;&lt;%- include('includes/footer') %>&nbsp;&nbsp;</span></li>
                  </ul>
               </li>
               <li>&lt;/body>
            </ul>
            <p>The reason for this file is that the end user could type a <b>subReddit</b> they might be looking for directly into the browser address bar. But if the <b>subReddit</b> doesn't exist, then we will get an error and our app will crash. To prevent this, we create a page that simply says, "We're sorry but that sub-reddit can not be found. So our app continues to run.</p>
         </article><hr>

         <!-- running the app -->
         <article>
            <h6>Running the App</h6>
            <p><span class="firstWord">N</span>ow we can finally discuss how to actually run the app. Since we are using <b>server side</b> processing, we are going to need to be running our "<b>localhost</b>" server. Simply open the "Terminal" of your choice, navigate to our apps <i><b>root</b></i> directory, <i>(that we named <b>express</b>)</i>, and type either:
               <ul>
                  <li><b>node index.js</b>, or</li>
                  <li><b>nodemon index.js</b></li>
               </ul>
            </p>
            <p>The server should now be running, so we then open our browser window, and because we defined our port number to be <b>3000</b> <i>(in <b>index.js</b>)</i>, we type <i>(in the address bar)</i>:
               <ul>
                  <li><a href="http://localhost:3000/" target="_blank">http://localhost:3000/</a></li>
               </ul>

            which brings up our <b>root</b> app which is our Bodingles experiment. To display our other views, type:
               <ul>
                  <li><a href="http://localhost:3000/home" target="_blank">http://localhost:3000/home</a> to bring up our random number generator page.</li>
                  <li><a href="http://localhost:3000/pets" target="_blank">http://localhost:3000/pets</a> to bring up our page displaying a list.</li>
               </ul>
            And as for our subReddits, we set these up in our <b>index.js</b> to use a <b>/r/</b> designation to identify them as sub-reddit pages, so:
               <ul>
                  <li><a href="http://localhost:3000/r/chickens" target="_blank">http://localhost:3000/r/chickens</a></li>
                  <li><a href="http://localhost:3000/r/harvest" target="_blank">http://localhost:3000/r/harvest</a></li>
                  <li><a href="http://localhost:3000/r/soccer" target="_blank">http://localhost:3000/r/soccer</a></li>
               </ul>
            will bring up our sub-reddit pages.
            </p>
            <p>And there we go, our <b>Express ejs Demo</b> app is up and running. We retrieved our data from an external source <i>(<b>ejsDemoData.json</b>)</i>, and utilized <b>server-side</b> processing to process the data, and output it for viewing, <i>(<b>using the ejs file format</b>)</i>.</p>
      </section>

      <p><br><a href="#top">Back to Top</a></p>
      <p>&nbsp;</p>
   </section>

   <!-- footer -->
   <footer id="app-footer"></footer>

   <!-- scripts -->
   <script src="/header.js"></script>
   <script src="/footer.js"></script>
   <script src="../express/index.js"></script>
</body>
</html>