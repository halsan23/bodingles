<!DOCTYPE html>
<html lang="en" id="top">

<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Bodingles | Colt Steele</title>

   <!-- Link Favicon -->
   <link rel="icon" href="/images/logos/favicon.ico" type="image/x-icon">

   <!-- link stylesheet -->
   <link rel="stylesheet" href="/css/cssReset.css">
   <link rel="stylesheet" href="/css/root.css">
</head>

<body>
   <!-- Header -->
   <header id="app-header"></header>

   <!-- Main Body -->
   <section id="main" class="content">
      <!-- Title -->
      <section>
         <h2><i>The Web Developer Bootcamp 2024</i></h2>
         <p>Colt Steele</p>
         <p><a href="../mongoDbIndex.html">Back to MongoDB Index Page</a></p>
         <hr style="width: 40%;">
         <p>&nbsp;</p>
         <h5>MongoDB Shell</h5>
      </section>

      <section id="textWindow4" class="just">
         <!-- Intro -->
         <article>
            <h6>Intro</h6>
            <p><span class="firstWord">W</span>e're going to start talking about how to actually use MongoDB to build and manipulate databases. In this discussion, we are going to be using the <b>MongoDB Shell</b> to build and manipulate our database, and in the next discussion, we'll show you how to use MongoDB Compass.</p>
            <p>We are going to be creating a database for an <b>Animal Shelter</b>. This database could hold information on different pets such as dogs and cats, and also perhaps, people that may be looking for pets. But, the first thing we do is to create a new database. </p>
            <p>Once you have a database created, we will create what are called <b>Collections</b> to store and reference the data. Think of collections as basically different categories of data that are stored in the database.</p>
            <p>And finally, once you have a database, with at least one Collection, you then create what are called <b>Documents</b>. Documents are, in the end, the actual data being stored.</p>
         </article>
      </section>

         <section id="textWindow4" class="just">
         <!-- MongoDB Shell Procedure -->
         <article>
            <h6 class="colorBlue">MongoDB Shell</h6>
            <h6>Create the Database</h6>
            <p>To create a new database in <span class="colorBlue">MongoDB Shell</span>:
               <ul class="sectHighlight">
                  <li><b>Open</b> your Terminal App of choice. I like PowerShell</li>
                  <li><b>Start</b> MongoDB by entering <b>mongosh</b></li>
                  <li><b>Create</b> a new database - enter <b>use animalShelter</b></li>
               </ul>
            Once the db is created, the Mongo Shell should switch to the "animalShelter" db (<i>your cursor should change from <b>test></b>, to <b>animalShelter></b></i>). If it does not, or at anytime you want to switch to that db you just created, by using the <b>use</b> keyword:
               <ul class="sectHighlight">
                  <li><i><b>use</b> animalShelter</i></li>
               </ul>
            <i><b>*note</b>: the <b>use</b> keyword will <b>switch</b> to a db if it exists, or it will <b>create</b> a new db if it does not.</i>
            </p>
            <h6>Create a Collection</h6>
            <p>To create a Collection in the <span class="colorBlue">MongoDB Shell</span>, you have two options:
               <ul class="sectHighlight">
                  <li>1. You can enter <b>db.createCollection(</b>"collectionName"<b>)</b>
                     <ul>
                        <li>which will create an empty collection with no data.</li>
                     </ul>
                  </li>
                  <li>or,</li>
                  <li>2. You can enter <b>db.</b>collectionName<b>.insertOne( </b>{collectionData}<b> )</b>
                     <ul>
                        <li>which will create a new collection and populate it with the data.</li>
                     </ul>
                  </li>
               </ul>
            <i><b>*note</b>: when you enter <b>db.collectionName.insertOne()</b>, if that collection does not exist, MongoDB will create it <b>and insert the collection data</b>. If the collection already exists, it will simply add the data to the existing collection.</i>
            </p>
            <p>We are going to use option 2 which will create the Collection and populate it with it's first document. The Collection will be called <b>dogs</b>, and our Document will be populated with data for our first dog, like so:
               <ul class="sectHighlight">
                  <li>db.dogs.insertOne( { name: "Chico", age: 10, breed: "Pit Bull", catFriendly: true } )</li>
               </ul>
            </p>
            <p>Also, according to the <a href="https://www.mongodb.com/docs/languages/c/c-driver/current/write/insert/" target="_blank" crossorigin="anonymous" referrerpolicy="no-referrer">MongoDB docs</a>, to insert one "collection" item you use <b>db.insertOne()</b>, and to enter multiple collection items, you use <b>db.insertMany()</b>.  However, the <b>db.insertOne()</b> method works for either single or multiple entries, and here's why. If you are going to add "multiple" collections of data at once, just add them as multiple objects of an array.</p>
            <p>As you can see from our example <b>db.</b>collectionName<b>.insertOne( </b>{collectionData}<b> )</b>, our collection data <b>is entered as an object</b>, so to add multiple items, you could use <b>db.</b>collectionName<b>.insertOne( [</b> {}, {}, {} <b>] )</b> and <b>just create an array structure</b>, like so:
               <ul>
                  <li>[
                     <ul>
                        <li>{
                           <ul>
                              <li>collection object 1</li>
                           </ul>
                        </li>
                        <li>},</li>
                        <li>{
                           <ul>
                              <li>collection object 2</li>
                           </ul>
                        </li>
                        <li>}</li>
                     </ul>
                  </li>
                  <li>]</li>
               </ul>
            </p>
            <p>Now you've probably noticed is that the collections look an awful lot like a json objects, but they are not. They are actually "JavaScript" objects, and there is a distinction. For one thing, when using the MongoDB Shell, the key names are not enclosed in parenthesis.
            </p>
            <p>Also, <b>when using the shell</b>, once you hit enter to create or add data to a collection, Mongo returns a <b>promise</b>:
               <ul>
                  <li>{
                     <ul>
                        <li>acknowledged: true,</li>
                        <li>insertedId: ObjectId('67f5908cf09a1c0894b71236')</li>
                     </ul>
                  </li>
                  <li>}</li>
               </ul>
            This shows that the Document was created and assigned a unique ID number. And now, if we enter <b>show collections</b>, we see <b>dogs</b> has been created. We can also use <b>db.dogs.find()</b> to display all of the entries in this collection, and we get:
            <ul>
               <li>[
                  <ul>
                     <li>{
                        <ul>
                           <li>_id: ObjectId('67f5908cf09a1c0894b71236'),</li>
                           <li>name: 'Chico',</li>
                           <li>age: 10,</li>
                           <li>breed: 'Pit Bull',</li>
                           <li>catFriendly: true</li>
                        </ul>
                     </li>
                     <li>}</li>
                  </ul>
               </li>
               <li>]</li>
            </ul>
            </p>
         </article>
      </section>

      <p><br><a href="#top">Back to Top</a></p>
      <p>&nbsp;</p>
   </section>

   <!-- footer -->
   <footer id="app-footer"></footer>

   <!-- scripts -->
   <script src="/header.js"></script>
   <script src="/footer.js"></script>
</body>
</html>