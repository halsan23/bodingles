<!DOCTYPE html>
<html lang="en" id="top">

<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Bodingles | Colt Steele</title>

   <!-- Link Favicon -->
   <link rel="icon" href="/images/logos/favicon.ico" type="image/x-icon">

   <!-- link stylesheet -->
   <link rel="stylesheet" href="/css/cssReset.css">
   <link rel="stylesheet" href="/css/root.css">
</head>

<body>
   <!-- Header -->
   <header id="app-header"></header>

   <!-- Main Body -->
   <section id="main" class="content">
      <!-- Title -->
      <section>
         <h2><i>The Web Developer Bootcamp 2024</i></h2>
         <p>Colt Steele</p>
         <p><a href="../mongoDbIndex.html">Back to MongoDB Index Page</a></p>
         <hr style="width: 40%;">
         <p>&nbsp;</p>
         <h5>MongoDB</h5>
      </section>

      <section id="textWindow4" class="just">
         <!-- Create a Database -->
         <article>
            <h6>Intro</h6>
            <p><span class="firstWord">I</span>n this discussion, we're going to start talking about how to actually use MongoDB to build and manipulate databases.</p>
            <p>When we installed MongoDB, we also used to option to install <b>MongoDB Compass</b> which is a Graphical User Interface (GUI) for MongoDB. And, as with most gui's, it is much simpler to use the <b>Compass GUI</b> for the building and manipulating of our databases, but our class is teaching the use of the <b>MongoDB Shell</b>, which is not necessarily a bad thing.</p>
            <p>Since we have the two different pathways to achieve our goal of creating and manipulating MongoDB database's, I will try to document them both as we go.</p>
            <P>Also, once you create a database, MongoDB uses what are called <b>Collections</b> to store and reference the data. Collections are simply a term used to refer to the data being stored, but because the data is stored in a <b>non-SQL</b> way, and because of the many different types of data that can be stored, MongoDB chose to just refer to the data, as <b>Collections.</b></P>
            <hr><h6>Create the Database</h6>
            <p>We're going to be creating a database for an Animal Shelter, so the first thing we need to do is to <b>create</b> our new database.</p>
            <p>For the <span class="colorGreen">Compass GUI</span>:
               <ul>
                  <li><b>Start</b> the Compass App</li>
                  <li><b>Connect</b> to our localhost server - default port is 27017</li>
                  <li><b>Create</b> a new database - just to the right of "localhost:27017" click the + sign</li>
                  <li><b>Name</b> your database - <b>animalShelter</b></li>
                  <li><b>Name</b> your first collection <i>(of data)</i>
                     <ul>
                        <li><i>this step is optional because you can create new "collections" at any time by clicking the + sign just to the right of the database name.</i></li>
                     </ul>
                  </li>
               </ul>
            </p><hr>
            <p>For the <span class="colorBlue">MongoDB Shell</span>:
               <ul>
                  <li><b>Open</b> your Terminal App of choice. I like PowerShell</li>
                  <li><b>Start</b> MongoDB by entering <b>mongosh</b></li>
                  <li><b>Create</b> a new database - enter <b>use animalShelter</b></li>
               </ul>
            Once the db is created, the Mongo Shell should switch to the "animalShelter" db (<i>your cursor should change from <b>test></b>, to <b>animalShelter></b></i>). If it does not, or at anytime you want to switch to that db you just created, by using the <b>use</b> keyword:
               <ul>
                  <li><i><b>use</b> animalShelter</i></li>
               </ul>
            <i><b>*note</b>: the <b>use</b> keyword will <b>switch</b> to a db if it exists, or it will <b>create</b> a new db if it does not.</i>
            </p>
         </article><hr>

         <!-- Create a Collection -->
          <article>
            <h6>Create a Collection</h6>
            <p><span class="firstWord">A</span>s already mentioned, MongoDB utilizes "Collections" to store it's data. So once we have created our new database, we need to add our first collection. We're going to create a collection of <b>dogs</b> that will refer to any dogs we have in our shelter.</p>
            <p>For the <span class="colorGreen">Compass GUI</span>:
               <ul>
                  <li><b>Click</b> the + sign next to our DB Name in the DB List</li>
                  <li><b>Name</b> your collection (<b>dogs</b>), <i>and yes, it's that simple</i></li>
               </ul>
            Now that our empty Collection (dogs) is created we need to add some data to it .........
            </p><hr>
            <p>For the <span class="colorBlue">MongoDB Shell</span>:
               <ul>
                  <li>enter <b>db.dogs.insertOne(</b>{name: "Chico", age: 10, breed, "Pit Bull", catFriendly: true}<b>)</b></li>
               </ul>
            Once again, when you enter <b>db.dogs ...</b>, if that database does not exist, MongoDB will create it and insert the collection data. If the collection already exists, it will simply add the data to the collection.
            </p>
            <p><b>*note</b>: according to the <a href="https://www.mongodb.com/docs/languages/c/c-driver/current/write/insert/" target="_blank" crossorigin="anonymous" referrerpolicy="no-referrer">MongoDB docs</a>, to insert one "collection" item you use <b>db.insertOne()</b>, and to enter multiple collection items, you use <b>db.insertMany()</b>.  However, the <b>db.insertOne()</b> method works for either single or multiple entries, and here's why. If you are going to add "multiple" collections of data at once, just add them as multiple objects of an array.</p>
            <p>As you can see from our example adding the "<b>Chico</b>" collection, all of the data <b>is an object</b>, so to add multiple items, you could use <b>db.dogs.insertOne( [</b> {}, {}, {} <b>] )</b> and just create an array structure, like so:
               <ul>
                  <li>[
                     <ul>
                        <li>{
                           <ul>
                              <li>collection object 1</li>
                           </ul>
                        </li>
                        <li>},</li>
                        <li>{
                           <ul>
                              <li>collection object 2</li>
                           </ul>
                        </li>
                        <li>}</li>
                     </ul>
                  </li>
                  <li>]</li>
               </ul>
            </p>
            <p>Now you've probably noticed is that the collections look an awful lot like a json objects, but they are not. They are actually "JavaScript" objects, and there is a distinction. For one thing, when using the MongoDB Shell, the key names are not enclosed in parenthesis.
            </p>
            <p>Also, <b>when using the shell</b>, once you hit enter to create or add dat to a collection, Mongo returns a <b>promise</b>:
               <ul>
                  <li>{
                     <ul>
                        <li>acknowledged: true,</li>
                        <li>insertedId: ObjectId('67f5908cf09a1c0894b71236')</li>
                     </ul>
                  </li>
                  <li>}</li>
               </ul>
            and if we enter <b>show</b> collections, we see <b>dogs</b> has been created. We can also use <b>db.dogs.find()</b> to display all of the entries in this collection, and we get:
            <ul>
               <li>[
                  <ul>
                     <li>{
                        <ul>
                           <li>_id: ObjectId('67f5908cf09a1c0894b71236'),</li>
                           <li>name: 'Chico',</li>
                           <li>age: 10,</li>
                           <li>breed: 'Pit Bull',</li>
                           <li>catFriendly: true</li>
                        </ul>
                     </li>
                     <li>}</li>
                  </ul>
               </li>
               <li>]</li>
            </ul>
            </p>
         </article>
      </section>

      <p><br><a href="#top">Back to Top</a></p>
      <p>&nbsp;</p>
   </section>

   <!-- footer -->
   <footer id="app-footer"></footer>

   <!-- scripts -->
   <script src="/header.js"></script>
   <script src="/footer.js"></script>
</body>
</html>